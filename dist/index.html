<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fabric</title>
    <script src="./fabric.min.js"></script>
    <style>
        body {
            display: flex;
        }
        canvas {
            border: 1px solid #2c63ff;
        }
        textarea {
            width: 200px;
            height: 84px;
            margin-left: 20px;
            font-size: 30px;
            font-family: 'Comic Sans';
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="800" height="800"></canvas>
    <textarea id="textarea"></textarea>
    <script>
        // fabric.disableStyleCopyPaste = true
        var canvas = new fabric.Canvas('canvas');

        // Ê≠£ÊñπÂΩ¢
        var rect = new fabric.Rect({
            top : 188,
            left : 45,
            width : 65,
            height : 65,
            fill : '#2c63ff'
        });
        canvas.add(rect);

        // Ê∑ªÂä†ÊñáÂ≠ó
        // var text = new fabric.Text('hello world', { left: 100, top: 100 });
        // canvas.add(text);

        const O2TextStyle = { fontWeight: 'bold', fill: '#ffffff' }

        // Ê∑ªÂä†ÂèØÁºñËæëÊñáÂ≠ó
        var comicSansText = new fabric.IText("O2 Lab\nSuperlin ü¶Üü¶Ü", {
            fontFamily: 'Comic Sans',
            top: 200,
            left: 50,
            // direction: 'rtl',
            styles:{
                0: {
                    0: O2TextStyle,
                    1: O2TextStyle,
                }
            },
            hasControls: false,
        });
        canvas.add(comicSansText);

        var helloText = new fabric.IText("hello, fabric", {
            fontFamily: 'Comic Sans',
            top: 80,
            left: 50,
        });
        canvas.add(helloText);

         // Ê∑ªÂä†‰∏çÂèØÁºñËæëÊñáÂ≠ó
        //  var uneditableText = new fabric.IText("It's uneditable", {
        //     width: 500,
        //     fontFamily: 'Comic Sans',
        //     editable: false,
        //     // direction: 'rtl',
        // });
        // canvas.add(uneditableText);
    </script>
    <script>
        const textarea = document.getElementById('textarea')

        // textarea.value = 'A \uD87E\uDC04 Z'
        textarea.value = 'O2 Lab\nSuperlin ü¶Üü¶Ü'

        /**
         * Ëß¶ÂèëÊù°‰ª∂ÊòØ textarea ÊòØÂ§±ÂéªÁÑ¶ÁÇπ
         */
        textarea.addEventListener('change', function (e) {
            console.log('[textarea] change: ', e.target.value);
        })

        /**
         * Ëß¶ÂèëÈ°∫Â∫è paste -> input
         */
        textarea.addEventListener('input', function (e) {
            console.log('[textarea] input: ', e.target.value);
        })
        textarea.addEventListener('paste', function (e) {
            console.log('[textarea] paste: ', e);
        })
    </script>
</body>
</html>